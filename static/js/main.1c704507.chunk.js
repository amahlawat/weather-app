(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e){e.exports={}},197:function(e,t,a){},198:function(e,t,a){e.exports=a.p+"static/media/weather.3d872e4e.gif"},199:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),i=(a(82),a(72)),l=a(75),s=a(11),m=a.n(s),u=a(19),p=a(63),h=a(64),d=a(74),f=a(65),y=a(76),v=a(66),g=a.n(v),E=(a(85),a(29)),N=a.n(E),w="09fc2fbe71c94cb399114e42d35996f1";function b(e){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(m.a.mark(function e(t){var a,n,r,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,console.log(t),n=t.cityName,r=t.countryName,c="http://api.openweathermap.org/data/2.5/weather?q="+n+","+r+"&appid="+w,e.prev=5,e.next=8,N.a.get(c).then(function(e){a=e.data}).catch(function(e){console.log(e)});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.log("Error in WeatherDataByCityCountryService = "+e.t0);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e,null,[[5,10]])}))).apply(this,arguments)}a(105);var k=a(73);a(106);var D=function(e){var t=Object(n.useState)(""),a=Object(k.a)(t,2),c=a[0],o=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"autocomplete form-main"},r.a.createElement("input",{id:"cityName",onChange:function(e){return o(e.target.value)},type:"text",name:"myCity",placeholder:"City"}),r.a.createElement("button",{onClick:function(){console.log(" search ",c),e.formData(document.getElementById("cityName").value),document.getElementById("cityName").value="",o("")},id:"button-check",className:"button-check ".concat(""===c?"button-disabled":"button-active")},"Check Weather")))};a(107);a(108);var S=a(71),O=a(67),j=a.n(O),B=a(70),x=a.n(B),I=a(69),L=a.n(I),J=a(20),T=a.n(J);var W=Object(S.withStyles)({card:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}})(function(e){var t=e.classes;return r.a.createElement("span",{className:t.bullet},"\u2022"),r.a.createElement(j.a,{className:t.card},r.a.createElement(L.a,null,r.a.createElement(T.a,{className:t.title,color:"textSecondary",gutterBottom:!0},"Data"),r.a.createElement(T.a,{variant:"h5",component:"h2"},e.cityName),r.a.createElement(T.a,{className:t.pos,color:"textSecondary"},"Humidity: ",e.humidity),r.a.createElement(T.a,{component:"p"},"Temperature: ",e.temperature),r.a.createElement(T.a,{component:"p"},"Pressure: ",e.pressure)),r.a.createElement(x.a,null))}),A=(a(197),function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Weather Information App"))}),F=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"powered by api.openweathermap.org"),r.a.createElement("p",null,"No Copyright"),r.a.createElement("p",null,"developed in react"))},H=a(198),M=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={weatherData:null,completeCityList:[],hasError:!1,cityName:""},a.fetchResponseData=function(){var e=Object(u.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:null!==(n=e.sent)?a.setState({weatherData:n,hasError:!1}):a.setState({hasError:!0});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.formData=function(e){console.log(" cityName ",e);var t="";a.state.completeCityList.map(function(a){e===a.name&&(t=a.country)});var n=Object(l.a)({},a.state.searchParams);n.cityName=e,n.countryCode=t,a.setState({cityName:e}),""!==t&&a.fetchResponseData(n)},a.autocomplete=function(){var e=[];g.a.getJSON("city.list.json",function(t){t.map(function(t){e.push(t.name)}),a.setState({completeCityList:t})}),function(e,t){var a;function n(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}(e),a>=e.length&&(a=0),a<0&&(a=e.length-1),e[a].classList.add("autocomplete-active")}function r(t){for(var a=document.getElementsByClassName("autocomplete-items"),n=0;n<a.length;n++)t!=a[n]&&t!=e&&a[n].parentNode.removeChild(a[n])}e.addEventListener("input",function(n){var c,o,i,l=this.value;if(r(),!l)return!1;for(a=-1,(c=document.createElement("DIV")).setAttribute("id",this.id+"autocomplete-list"),c.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(c),i=0;i<t.length;i++)t[i].substr(0,l.length).toUpperCase()==l.toUpperCase()&&((o=document.createElement("DIV")).innerHTML="<strong>"+t[i].substr(0,l.length)+"</strong>",o.innerHTML+=t[i].substr(l.length),o.innerHTML+="<input type='hidden' value='"+t[i]+"'>",o.addEventListener("click",function(t){e.value=this.getElementsByTagName("input")[0].value,document.getElementById("cityName").dispatchEvent(new Event("change")),r()}),c.appendChild(o))}),e.addEventListener("keydown",function(e){var t=document.getElementById(this.id+"autocomplete-list");t&&(t=t.getElementsByTagName("div")),40==e.keyCode?(a++,n(t)):38==e.keyCode?(a--,n(t)):13==e.keyCode&&(e.preventDefault(),a>-1&&t&&t[a].click())}),document.addEventListener("click",function(e){r(e.target)})}(document.getElementById("cityName"),e)},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.autocomplete()}},{key:"render",value:function(){var e=[];return JSON.parse(localStorage.getItem("weatherData"))&&(e=Object(i.a)(JSON.parse(localStorage.getItem("weatherData")))),null!==this.state.weatherData&&(e.unshift(this.state.weatherData),localStorage.setItem("weatherData",JSON.stringify(e))),r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null),r.a.createElement("div",{className:"app-main"},r.a.createElement("p",{className:"app-weather-info-heading"},"Search your city weather information"),r.a.createElement(D,{formData:this.formData}),this.state.hasError?r.a.createElement("h1",null,"For Cityname: ",this.state.cityName," is not in records. Please select a valid cityname from dropdown list."):e.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"recent-heading"},"Recent Searches"),r.a.createElement("div",{className:"recent-searches"},e.map(function(e){return r.a.createElement(W,{cityName:e.name,humidity:e.main.humidity,pressure:e.main.pressure,temperature:e.main.temp})}))):r.a.createElement("img",{src:H,alt:""})),r.a.createElement(F,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},77:function(e,t,a){e.exports=a(199)},82:function(e,t,a){},85:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.1c704507.chunk.js.map